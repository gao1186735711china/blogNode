
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>åšå®¢</title>
<link href="/css/main.css" rel="stylesheet" type="text/css">
<link href="/fontAwesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<script src = "/js/jquery-1.12.4.min.js"></script>
<script src = "/js/index.js"></script>
</head>

<body>

    <header>
        <div class="backimg"><img src="/images/IMG_0293.JPG"></div>
        <div class="logo"><span></span><img src="/images/00002637.png"></div>
    </header>

    <nav>
        <div class="menu">
            <a href="/" class="focus">é¦–é¡µ</a>
            
                <a href="/578d0a391b82d423481b6930">HTML5</a>
            
                <a href="/578d0a431b82d423481b6931">CSS</a>
            
                <a href="/578d0a4a1b82d423481b6932">JAVASCRIPT</a>
            
                <a href="/578d0a501b82d423481b6933">PHP</a>
            
                <a href="/578d0a541b82d423481b6934">JAVA</a>
            
                <a href="/57921998f925118da88ea826">Express</a>
            
        </div>
    </nav>

    

    <main class="clear">
        <div class="mainLeft">
            
            <div class="listBox">
                <h1>symfony2</h1>
                <p class="colDefault">
                    ä½œè€…ï¼š<span class="colInfo">admin</span> - 
                    æ—¶é—´ï¼š<span class="colInfo">2016å¹´7æœˆ19æ—¥ 1:3:31</span> - 
                    é˜…è¯»ï¼š<span class="colInfo">231</span> - 
                    è¯„è®ºï¼š<span class="colInfo">10</span>
                </p>
                <dfn><p>PHPæ¡†æ¶ - symfony2</p></dfn>
                <div class="function"><a href="/view/578d0be3fb13ff664906f7fd">é˜…è¯»å…¨æ–‡</a></div>
            </div>
            
            <div class="listBox">
                <h1>h1æ ‡ç­¾</h1>
                <p class="colDefault">
                    ä½œè€…ï¼š<span class="colInfo">admin</span> - 
                    æ—¶é—´ï¼š<span class="colInfo">2016å¹´7æœˆ19æ—¥ 1:1:37</span> - 
                    é˜…è¯»ï¼š<span class="colInfo">93</span> - 
                    è¯„è®ºï¼š<span class="colInfo">1</span>
                </p>
                <dfn><p>h1æ ‡ç­¾ä»‹ç»</p></dfn>
                <div class="function"><a href="/view/578d0b715e521642492fc0fd">é˜…è¯»å…¨æ–‡</a></div>
            </div>
            
            <div class="listBox">
                <h1>DOM</h1>
                <p class="colDefault">
                    ä½œè€…ï¼š<span class="colInfo">admin</span> - 
                    æ—¶é—´ï¼š<span class="colInfo">2016å¹´7æœˆ20æ—¥ 16:24:38</span> - 
                    é˜…è¯»ï¼š<span class="colInfo">95</span> - 
                    è¯„è®ºï¼š<span class="colInfo">41</span>
                </p>
                <dfn><h2>DOM - Document Object Model</h2>

<blockquote><p>æ–‡æ¡£å¯¹è±¡æ¨¡å‹</p></blockquote></dfn>
                <div class="function"><a href="/view/578f3546ce908f1c8c43cff0">é˜…è¯»å…¨æ–‡</a></div>
            </div>
            

            <div class="pager">
                <ul class="clear">
                    
                    <li class="previous">
                    
                        <a href="javascript:;">æ²¡æœ‰ä¸Šä¸€é¡µäº†</a>
                    
                    </li>

                    <li>
                        <strong>1 / 2</strong>
                    </li>

                    <li class="next">
                    
                        <a href="/2">ä¸‹ä¸€é¡µ</a>
                    
                    </li>
                    
                </ul>
            </div>
        </div>

        <div class="mainRight">
            
           {% if userInfo._id %}
            <div class="rightBox"  id = 'userInfo'>
                <div class="title"><span>ç”¨æˆ·ä¿¡æ¯</span></div>
                <p><span class="colDark">{{ userInfo.username }}</span></p>
                
                {% if userInfo.isAdmin %}
                 <p>
                     <span class="colDanger info">ä½ å¥½ï¼Œç®¡ç†å‘˜ï¼ğŸ˜</span>
                     <!--å¢åŠ ä¸€ä¸ªé“¾æ¥ï¼Œå¯ä»¥ç™»å½•åå°çš„é“¾æ¥ -->
                     <a href="/admin">è¿›å…¥ç®¡ç†</a>
                 </p>
                {% else %}
              
                 <p><span class="colDanger info">ä½ å¥½ï¼Œæ¬¢è¿å…‰ä¸´æˆ‘çš„åšå®¢ï¼ğŸ˜</span></p>
                {% endif %}
                
                <p><span class="colDark"><a href="/logout" id="logoutBtn">é€€å‡º</a></span></p>
            </div>
           {% else %}

            <div class="rightBox" id="loginBox">
                <div class="title"><span>ç™»å½•</span></div>
                <div class="line"><span class="colDark">ç”¨æˆ·åï¼š</span><input type="text" name = "username"/><em></em></div>
                <div class="line"><span class="colDark">å¯†ç ï¼š</span><input type="password" name = "password"/><em></em></div>
                <div class="line"><span class="colDark"></span><button>ç™» å½•</button></div>
                <p class="textRight">è¿˜æ²¡æ³¨å†Œï¼Ÿ<a href="#" class="colMint">é©¬ä¸Šæ³¨å†Œ</a>ã€€</p>
                <p class="colWarning textCenter"></p>
            </div>
            {% endif %}
            <div class="rightBox" id="registerBox" style = 'display: none'>
                <div class="title"><span>æ³¨å†Œ</span></div>
                <div class="line"><span class="colDark">ç”¨æˆ·åï¼š</span><input type="text" name = "username" /></div>
                <div class="line"><span class="colDark">å¯†ç ï¼š</span><input type="password" name = "password" /></div>
                <div class="line"><span class="colDark">ç¡®è®¤ï¼š</span><input type="password" name = "repassword" /></div>
                <div class="line"><span class="colDark"></span><button>æ³¨ å†Œ</button></div>
                <p class="textRight">å·²æœ‰è´¦å·ï¼Ÿ<a href="#" class="colMint">é©¬ä¸Šç™»å½•</a>ã€€</p>
                <p class="colWarning textCenter"></p>
            </div>


            <div class="rightBox">
                <div class="title"><span>ç¤¾åŒº</span></div>
                    <p><a href="http://www.mobiletrain.org/" target="_blank" class="colDanger">åƒé”‹è¯¾å ‚</a></p>
                    <p><a href="http://www.mobiletrain.org/" target="_blank" class="colDanger">åƒé”‹èŒ¶é¦†</a></p>
                </div>
            </div>


    </main>

    <div class="copyright textCenter">Copyright 2011-2015 åŒ—äº¬åƒé”‹äº’è”ç§‘æŠ€æœ‰é™å…¬å¸ äº¬ICPå¤‡12003911å·-3 äº¬å…¬ç½‘å®‰å¤‡11010802011455å·</div>
</body>
<script>
    <template>
    <div style="display:flex;">
        <!-- å·¦ä¾§èœå• -->
        <div style="width:200px;background:#fff;" class="nav">
        <button class="statustitle current" @click="searchStatus('', '0'), withdrawstatus(0)" id="0">
        å…¨éƒ¨ç”³è¯·({{ navlist[5] }})
    </button>
    <button class="statustitle" @click="searchStatus('1', '1'), withdrawstatus(1)" id="1">
        å¾…å®¡æ ¸({{ navlist[0] }})
    </button>
    <button class="statustitle" @click="searchStatus('2', '2'), withdrawstatus(0)" id="2">å®¡æ ¸é€šè¿‡</button>
        <button class="statustitle" @click="searchStatus('3', '3'), withdrawstatus(0)" id="3">å®¡æ ¸é©³å›</button>
        <button class="statustitle" @click="searchStatus('5', '5'), withdrawstatus(2)" id="5">æ‰“æ¬¾å¤±è´¥</button>
        </div>
        <div style="width:1%;"></div>
        <!-- å³ä¾§è¡¨æ ¼ -->
        <div style="width:90%;">
        <div style="background:#fff;margin-bottom:10px;">
        <a-card :bordered="false">
        <!-- æŸ¥è¯¢åŒºåŸŸ -->
        <div class="table-page-search-wrapper">
        <a-form layout="inline">
        <a-row :gutter="24">
        <a-col :md="6" :sm="12">
        <a-form-item>
        <a-input placeholder="è¯·è¾“å…¥æç°ç”³è¯·å·" v-model="queryParam.cashOutApplyId"></a-input>
        </a-form-item>
        </a-col>
        <a-col :md="4" :sm="12">
        <a-form-item>
        <a-input placeholder="è¯·è¾“å…¥ç”³è¯·äººä¿¡æ¯" v-model="queryParam.customerName"></a-input>
        </a-form-item>
        </a-col>
        <a-col :md="3" :sm="12">
        <a-select @change="handleChange" placeholder="è¯·é€‰æ‹©æç°æ–¹å¼">
        <a-select-option value="GR">ä¸ªäººæç°</a-select-option>
        <a-select-option value="DG">å¯¹å…¬è½¬è´¦</a-select-option>
        </a-select>
        </a-col>
        <a-col :md="3" :sm="12">
        <a-select @change="handleChangePlat" placeholder="è¯·é€‰æ‹©æç°å¹³å°">
        <a-select-option value="">æµ·æ¾„å—¨é€‰APP</a-select-option>
        <a-select-option value="">æµ·æ¾„å—¨å›¢å°ç¨‹åº</a-select-option>
        </a-select>
        </a-col>
        <a-col :md="7" :sm="12">
        <span style="float: left;overflow: hidden;" class="table-page-search-submitButtons">
        <a-button type="primary" @click="searchQuery" icon="search">æŸ¥è¯¢</a-button>
        <a-button type="primary" @click="searchReset" icon="reload" style="margin-left: 8px">é‡ç½®</a-button>
        </span>
        </a-col>
        </a-row>
        </a-form>
        </div>
        </a-card>
        </div>
        <div style="background:#fff;">
        <div style="height:52px;">
        <a-button
    type="primary"
    @click="pass"
    :loading="passloading"
    style="margin:10px;"
    :class="[{ hide: !reviewbtn }]"
        >å®¡æ‰¹é€šè¿‡</a-button
        >
        <a-button
    type="primary"
    @click="back"
    :loading="backloading"
    style="background:red;border-color:red;margin:10px;"
    :class="[{ hide: !reviewbtn }]"
        >å®¡æ‰¹é©³å›</a-button
        >
        <a-button
    type="primary"
    @click="repass"
    :loading="reloading"
    style="background:#70B603;border-color:#70B603;margin:10px;"
    :class="[{ hide: !remoneybtn }]"
        >å†æ¬¡æ‰“æ¬¾</a-button
        >
        <span style="font-size:18px;font-weight:bold;float:right;height:52px;line-height:52px;">
        &nbsp;&nbsp;å¯ç”¨ä½™é¢ï¼š
    <span style="width:250px;padding-right:26px;">{{ lastmoney }}å…ƒ</span>
    </span>
    </div>
    <a-table
    size="middle"
    bordered
        :columns="columns"
    :dataSource="dataSource"
    :loading="loading"
    :rowKey="
    dataSource.forEach(item => {
        return item.cashOutApplyId
    })
    "
    :pagination="ipagination"
    @change="handleTableChange"
    :rowSelection="{ selectedRowKeys: selectedRowKeys, onChange: onSelectChange }"
        >
        <!-- slotæ•°æ®åï¼› slot-scopeæ•°æ®ä»£å·æ’æ§½åï¼Œå¯¹åº”dataä¸­çš„æ•°æ®ä»£å· -->
        <div slot="withdrawway" slot-scope="withdrawway">
        <div>{{ withdrawway }}</div>
    </div>
    <div slot="customerarea" slot-scope="customerarea">
        <span>{{ customerarea.customerN }}</span>
    <span>({{ customerarea.cellphone }})</span>
    </div>
    <div slot="operation" slot-scope="operation" style="display:flex;justify-content:space-between;">
        <a-button
    type="primary"
    @click="lookwithdrawdetail(operation.withdrawT, operation.applyid)"
    class="btn-look"
        >æŸ¥çœ‹æç°ä¿¡æ¯</a-button
        >
        <!-- <div @click="lookwithdrawdetail('GR')" class="btn-look">æŸ¥çœ‹æç°ä¿¡æ¯</div> -->
        <a-button
    type="primary"
    class="btn-look"
    v-if="operation.applystatus == '1'"
    @click="withdrawReview(operation.applyid)"
    style="background-color:#70B603;border-color:#70B603;"
        >å®¡æ ¸é€šè¿‡</a-button
        >
        <a-button
    type="primary"
    class="btn-look"
    v-if="operation.applystatus == '1' || operation.applystatus == '5'"
    @click="withdrawBack(operation.applyid)"
    style="background-color:#D9001B;border-color:#D9001B;"
        >å®¡æ ¸é©³å›</a-button
        >
        <!-- å†æ¬¡æ‰“æ¬¾ä¸å®¡æ ¸é€šè¿‡ä¸€æ · -->
        <a-button
    type="primary"
    class="btn-look"
    v-if="operation.applystatus == '5'"
    @click="withdrawReview(operation.applyid)"
    style="background-color:#70B603;border-color:#70B603;"
        >å†æ¬¡æ‰“æ¬¾</a-button
        >
        </div>
        </a-table>
        </div>
        </div>
        <!-- ä¸ªäººè½¬è´¦ -->
        <withdraw-detail ref="withdrawdetail" @reload="reload"></withdraw-detail>
        <!-- å¯¹å…¬è½¬è´¦ -->
        <withdraw-public ref="withdrawdetailpublic" @reload="reload"></withdraw-public>
        <!-- å®¡æ ¸é€šè¿‡ -->
        <withdraw-review ref="withdrawreview" @reload="reload"></withdraw-review>
        <!-- å®¡æ ¸é©³å› -->
        <withdraw-back ref="withdrawback" @reloadback="reload"></withdraw-back>
        </div>
        </template>
        <script>
    import { JeecgListMixin } from '@/mixins/JeecgListMixin'
    import moment from 'moment'
    import { httpAction, getAction, putAction, postAction } from '@/api/manage'
    import WithdrawDetail from './modules/WithdrawDetail'
    import WithdrawPublic from './modules/WithdrawDetailPublic'
    import WithdrawReview from './modules/WithdrawReview'
    import WithdrawBack from './modules/WithdrawBack'
    import func from '../../../vue-temp/vue-editor-bridge'

    export default {
        name: 'OrdersList',
        mixins: [JeecgListMixin],
        components: {
            WithdrawDetail,
            WithdrawPublic,
            WithdrawReview,
            WithdrawBack
        },
        data() {
            return {
                lastmoney: '', //å…¬å¸è½¬è´¦ä½™é¢
                queryParam: {
                    cashOutApplyId: '', //è¾“å…¥çš„æç°å·
                    customerName: '', //è¾“å…¥çš„æç°äººä¿¡æ¯
                    cashStatus: '', //æç°çŠ¶æ€
                    cashType: '', //æç°ç±»å‹
                    cashPlat: ''
                },
                total: '', //åˆ—è¡¨æ€»æ•°
                navlist: [], //navåˆ—è¡¨
                withdrawflag: 0, //0å…¨éƒ¨ã€å·²å®¡æ ¸ã€å®¡æ‰¹é©³å› 1æœªå®¡æ ¸ 2æ‰“æ¬¾å¤±è´¥
                reviewbtn: false, //æ‰¹é‡å®¡æ ¸æŒ‰é’® falseéšè— trueæ˜¾ç¤º
                remoneybtn: false, //æ‰¹é‡æ‰“æ¬¾æŒ‰é’® falseéšè— trueæ˜¾ç¤º
                selectedRowKeys: [], // Check here to configure the default column
                loading: false,
                passloading: false,
                backloading: false,
                reloading: false,
                selectedArray: [],
                columns: [
                    {
                        key: 'cashOutApplyId',
                        title: 'ç”³è¯·æç°ç¼–å·',
                        dataIndex: 'cashOutApplyId',
                        width: 300
                    },
                    {
                        key: 'withdrawway',
                        title: 'æç°æ–¹å¼',
                        dataIndex: 'withdrawway', //dataindex æ•°æ®å
                        scopedSlots: { customRender: 'withdrawway' }, //æ•°æ®ä»£å·æ’æ§½å
                        width: 160
                    },
                    {
                        key: 'customerarea',
                        title: 'ç”³è¯·äºº',
                        dataIndex: 'customerarea',
                        scopedSlots: { customRender: 'customerarea' },
                        width: 160
                    },
                    {
                        key: 'cashOutAmount',
                        title: 'æç°é‡‘é¢ï¼ˆå…ƒï¼‰',
                        dataIndex: 'cashOutAmount',
                        width: 160
                    },
                    {
                        title: 'æç°å¹³å°',
                        dataIndex: '',
                        width: 160
                    },
                    {
                        title: 'ç”³è¯·æ—¶é—´',
                        dataIndex: 'createTime',
                        width: 200
                    },
                    {
                        key: 'cashStatusName',
                        title: 'æç°çŠ¶æ€',
                        dataIndex: 'cashStatusName',
                        width: 160
                    },

                    {
                        key: 'operation',
                        title: 'æ“ä½œ',
                        dataIndex: 'operation',
                        scopedSlots: { customRender: 'operation' },
                        width: 330
                    }
                ],
                dataSource: [
                    {
                        key: '1',
                        withdrawcode: '123456',
                        withdrawway: 'å¯¹å…¬',
                        applyperson: 'å°ç‹ç‹¸',
                        withdrawamount: '188',
                        billstatus: 'æç°çŠ¶æ€...',
                        operation: {
                            withdrawT: '',
                            applyid: '',
                            applystatus: ''
                        },
                        customerarea: {}
                    }
                ],

                url: {
                    list: '/cashOut/cashOutApply/list',
                    navlist: '/cashOut/cashOutApply/cashOutApplyList',
                    lastmoney: '/cashOut/cashOutApply/getCompanyBalance',
                    reviewpass: '/cashOut/cashOutApply/shenhe'
                }
                // operation:{}
            }
        },
        computed: {
            importExcelUrl: function() {
                return `${window._CONFIG['domianURL']}/${this.url.importExcelUrl}`
            },
            hasSelected() {
                return this.selectedRowKeys.length > 0
            }
        },
        created() {
            this.requestStatus()
            this.requestMoney()
        },
        methods: {
            //åˆ·æ–°
            reload(currentpage) {
                console.log('é‡æ–°åŠ è½½withdrawlist')
                this.requestStatus()
                this.requestMoney()
                this.loadData(currentpage)
            },
            //å®¡æ ¸é€šè¿‡
            withdrawReview(withdrawid) {
                this.selectedArray = [] //æ¸…ç©ºæ‰¹é‡é˜²æ­¢å†æ¬¡å‘é€
                console.log(this.selectedArray)
                this.$refs.withdrawreview.detail(withdrawid, this.ipagination.current)
            },
            //å®¡æ ¸é©³å›
            withdrawBack(withdrawid) {
                this.$refs.withdrawback.detail(withdrawid, this.ipagination.current)
            },
            requestStatus() {
                if (!this.url.navlist) {
                    this.$message.error('è¯·è®¾ç½®url.navlistå±æ€§!')
                    return
                }
                // console.log('è·å–navåˆ—è¡¨')
                this.loading = true
                getAction(this.url.navlist).then(res => {
                    if (res.success) {
                        this.nav = res.result
                        console.log(this.nav, 'navåˆ—è¡¨')
                        res.result.forEach(item => {
                            if (item.num == null) {
                                item.num = 0
                            }
                        })
                        this.navlist = []
                        this.navlist[5] = this.getFilter(null, res.result) //å…¨éƒ¨
                        this.navlist[0] = this.getFilter('1', res.result) //å®¡æ ¸ä¸­/æœªå®¡æ ¸
                        this.navlist[1] = this.getFilter('2', res.result) //å®¡æ ¸æˆåŠŸ
                        this.navlist[2] = this.getFilter('3', res.result) //å®¡æ ¸é©³å›
                        this.navlist[3] = this.getFilter('4', res.result) //è½¬è´¦æˆåŠŸ
                        this.navlist[4] = this.getFilter('5', res.result) //è½¬è´¦å¤±è´¥
                        // console.log('navlistæ•°ç»„',this.navlist)
                    }
                    this.loading = false
                })
            },
            //æŸ¥è¯¢ä½™é¢
            requestMoney() {
                if (!this.url.lastmoney) {
                    this.$message.error('è¯·è®¾ç½®url.lastmoneyå±æ€§!')
                    return
                }

                postAction(this.url.lastmoney).then(res => {
                    if (res.success) {
                        this.lastmoney = res.result
                    }
                })
            },
            getFilter(key, res) {
                let count
                res.forEach(item => {
                    if (key == item.cashOutStatus) count = item.num
                })
                return count
            },
            withdrawstatus(flag) {
                if (flag == 0) {
                    this.reviewbtn = false
                    this.remoneybtn = false
                } else if (flag == 1) {
                    this.reviewbtn = true
                    this.remoneybtn = false
                } else if (flag == 2) {
                    this.reviewbtn = false
                    this.remoneybtn = true
                }
            },

            //æ‰¹é‡æ“ä½œ
            pass() {
                this.passloading = true
                if (this.selectedArray.length < 1) {
                    this.$message.error('è¯·é‡æ–°ç¡®è®¤å®¡æ‰¹åå•')
                    this.passloading = false
                }
                // ajax request after empty completing

                console.log(this.selectedArray, 'æ‰¹é‡å®¡æ‰¹é€šè¿‡')
                /*   let index = 0 //é»˜è®¤ä»ç¬¬ä¸€ä¸ªå¼€å§‹å®¡æ‰¹
                  let allLength = this.selectedArray.length //æ€»é•¿åº¦
                  putReviewpass() //å‘é€
                  let putReviewpass = () => {
                    postAction(this.url.reviewpass, { cashOutApplyId: this.selectedArray[index], cashStatus: '2' }).then(res => {
                      if (res.success) {
                        if (index < allLength) {
                          putReviewpass() //é€’å½’
                        } else {
                          this.passloading = false
                        }
                        index++
                      }
                      if (!res.success) {
                        console.log('idä¸º' + item + 'å®¡æ ¸å¤±è´¥')
                        this.selectedArray = []
                        this.$message.error('idä¸º' + item + 'çš„æç°ç”³è¯·å®¡æ ¸å¤±è´¥')
                        // åˆ·æ–°
                        this.reload(this.ipagination.current)
                      }
                    })
                  } */
            },
            back() {
                this.backloading = true
                // ajax request after empty completing
                setTimeout(() => {
                    this.backloading = false
                    this.selectedRowKeys = []
                }, 1000)
                this.selectedArray.forEach((item, index) => {
                    postAction(this.url.reviewpass, { cashOutApplyId: item, cashStatus: '3' }).then(res => {
                        this.$message.error(res.message)
                        if (res.success) {
                            console.log('idä¸º' + item + 'å®¡æ ¸é©³å›è¿‡äº†')
                        }
                        if (!res.success) {
                            console.log('idä¸º' + item + 'å®¡æ ¸å¤±è´¥')
                        }
                        // åˆ·æ–°
                        this.reload(this.ipagination.current)
                    })
                })
            },
            repass() {
                this.reloading = true
                // ajax request after empty completing
                setTimeout(() => {
                    this.reloading = false
                    this.selectedRowKeys = []
                }, 1000)
            },

            getTotal(total) {
                this.total = []
                this.total = total
                // console.log(this.total, 'this.total')
            },
            fentoyuan() {
                this.dataSource.forEach(item => {
                    // console.log(item.cashOutAmount,'item.cashOutAmount')
                    item.cashOutAmount = this.changeMoney(item.cashOutAmount)
                    // console.log(item.cashOutAmount,'item.cashOutAmount')
                })
            },
            // é‡‘é¢è½¬æ¢
            changeMoney(num) {
                var regexp = /(?:\.0*|(\.\d+?)0+)$/
                if (num > 1000000) {
                    num = JSON.stringify(num).slice(0, JSON.stringify(num).length - 4) / 100
                    return num + 'ä¸‡'
                } else {
                    num = (num / 100).toFixed(2)
                    num = num.replace(regexp, '$1')
                    return num
                }
            },
            withdrawType() {
                this.dataSource.forEach(item => {
                    item.operation = {
                        withdrawT: '',
                        applyid: ''
                    }
                    item.operation.withdrawT = item.cashOutApplyId.substr(0, 2)
                    item.operation.applyid = item.cashOutApplyId
                    item.operation.applystatus = item.cashStatus
                    // console.log(item.operation, 'item.operation')
                })
                this.withdrawway()
            },
            withdrawway() {
                this.dataSource.forEach(item => {
                    if (item.operation.withdrawT == 'DG') {
                        item.withdrawway = 'å¯¹å…¬è½¬è´¦'
                    } else if (item.operation.withdrawT == 'GR') {
                        item.withdrawway = 'ä¸ªäººæç°'
                    }
                })
            },
            customerinfo() {
                this.dataSource.forEach(item => {
                    item.customerarea = {
                        customerN: '',
                        cellphone: ''
                    }
                    item.customerarea.customerN = item.customerName
                    item.customerarea.cellphone = item.username
                })
            },
            searchStatus(status, id) {
                //navæŒ‰ç…§çŠ¶æ€æŸ¥è¯¢
                this.getsearchStatus(status)
                //æ¸…ç©ºé«˜äº®
                var a = document.getElementsByClassName('statustitle')
                // console.log(a, 'a')
                for (var i = 0; i < a.length; i++) {
                    a[i].classList.remove('current')
                }
                // console.log(a, 'æ¸…ç©ºé«˜äº®')
                //é«˜äº®
                var current = document.getElementById(id)
                current.classList.add('current')
                // console.log(a, 'é«˜äº®')
            },

            getsearchStatus(status) {
                console.log(status)
                this.queryParam.cashStatus = status
                console.log(this.queryParam.cashStatus, 'è®¢å•ç±»å‹this.queryParam.cashStatus')
                //æŸ¥è¯¢
                this.searchQuery()
            },

            handleChange(value) {
                console.log('æç°æ–¹å¼', value)
                this.queryParam.cashType = value
            },
            handleChangePlat(value) {
                console.log('æç°å¹³å°', value)
                this.queryParam.cashPlat = value
            },
            onSelectChange(selectedRowKeys) {
                this.selectedArray = [] //æ¯æ¬¡é€‰æ‹©æ—¶ï¼Œæ¸…ç©ºä¹‹å‰å·²é€‰
                console.log(this.selectedArray)
                console.log('selectedRowKeys changed: ', selectedRowKeys)
                this.selectedRowKeys = selectedRowKeys
                this.reviewArray()
            },
            reviewArray() {
                this.selectedRowKeys.forEach((rowitem, rowindex) => {
                    this.dataSource.forEach((item, index) => {
                        console.log(rowitem)
                        if (rowitem == index) {
                            this.selectedArray.push(this.dataSource[index].cashOutApplyId)
                            return
                        }
                    })
                })
                console.log('this.selectedArray', this.selectedArray)
            },
            lookwithdrawdetail(detailflag, applyid) {
                if (detailflag == 'GR') {
                    this.$refs.withdrawdetail.detail(applyid)
                } else if (detailflag == 'DG') {
                    this.$refs.withdrawdetailpublic.detail(applyid)
                }
            }
        }
    }
</script>

<style scoped>
    @import '~@assets/less/common.less';
    .hide {
        display: none;
    }
    .nav div {
        height: 50px;
        line-height: 50px;
        text-align: center;
        width: 100%;
        overflow: hidden;
    }
    .statustitle {
        height: 50px;
        line-height: 50px;
        text-align: center;
        width: 100%;
        background: #fff;
        border-top: none;
        border-left: none;
        border-right: none;
        border-bottom: 1px solid #f0f2f5;
        overflow: hidden;
    }
    .current {
        height: 50px;
        line-height: 50px;
        text-align: center;
        width: 100%;
        background: #faad14;
        border: 0;
    }
    .btn-look {
        cursor: pointer;
        /* text-decoration: underline; */
        /* color: #6767ff; */
    }
    button {
        padding: 4px;
    }
</style>

</script>
</html>
